<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Deepfake Detector (PyTorch)</title>
<style>
body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif; background-color: #f4f7f6; text-align: center; margin: 40px; }
h1 { color: #2c3e50; }
.container { background-color: #ffffff; padding: 30px 40px; border-radius: 12px; box-shadow: 0 8px 25px rgba(0,0,0,0.08); display: inline-block; min-width: 350px; max-width: 90%; }
input[type=file] {
border: 2px dashed #007bff;
border-radius: 8px;
padding: 20px;
margin-bottom: 20px;
display: block;
margin-left: auto;
margin-right: auto;
cursor: pointer;
}
input[type=submit] { background-color: #007bff; color: white; padding: 12px 25px; border: none; border-radius: 8px; cursor: pointer; font-size: 1.1em; font-weight: 500; transition: background-color 0.2s ease; }
input[type=submit]:hover { background-color: #0056b3; }
.loader { border: 5px solid #f3f3f3; border-top: 5px solid #007bff; border-radius: 50%; width: 40px; height: 40px; animation: spin 1s linear infinite; margin: 25px auto; display: none; /* Hidden by default */ }
@keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
.result { margin-top: 30px; font-size: 1.3em; font-weight: bold; padding: 15px; border-radius: 8px;}
.result.fake { color: #dc3545; background-color: #f8d7da; border: 1px solid #f5c6cb;}
.result.real { color: #28a745; background-color: #d4edda; border: 1px solid #c3e6cb;}
.result.error { color: #721c24; background-color: #f8d7da; border: 1px solid #f5c6cb;}
</style>
<script>
// Simple script to show loader during processing
function showLoader() {
document.getElementById('loader').style.display = 'block';
document.getElementById('result-area').style.display = 'none'; // Hide previous result
}
</script>
</head>
<body>
<div class="container">
<h1>Deepfake Detector</h1>
<p>Upload an image or video to verify its authenticity.</p>
<!-- Add onsubmit to show loader -->
<form method="post" enctype="multipart/form-data" onsubmit="showLoader()">
<input type="file" name="file" required>
<input type="submit" value="Analyze">
</form>

    <!-- Loader Element -->
    <div id="loader" class="loader"></div>

    <!-- Result Area -->
    <div id="result-area">
        {% if result %}
            {% if 'FAKE' in result %}
                <div class="result fake">{{ result }}</div>
            {% elif 'REAL' in result %}
                <div class="result real">{{ result }}</div>
            {% else %} <!-- Catches errors or 'No face found' messages -->
                <div class="result error">{{ result }}</div>
            {% endif %}
        {% endif %}
    </div>
</div>


</body>
</html>